<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Go is not a simple language | joonas.fi</title>
  <meta name="description" content="Let’s get to work ᕕ( ᐛ )ᕗ">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Go is not a simple language" />
<meta property="og:description" content="I still love Go and it&rsquo;s the best language I&rsquo;ve used - but like in mature relationships, I&rsquo;ve aware of both the good and bad parts of the relationship.
Go is still, compared to many popular languages, simpler language - but many times when people claim Go is a simple language what is being implied is that Go is minimalistic &amp; it scoffs at unnecessary features.
This post is about where Go fails at minimalism." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tunacici.com/blog/2020/02/24/go-is-not-a-simple-language/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-02-24T11:37:00+00:00" />
<meta property="article:modified_time" content="2020-02-24T11:37:00+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Go is not a simple language"/>
<meta name="twitter:description" content="I still love Go and it&rsquo;s the best language I&rsquo;ve used - but like in mature relationships, I&rsquo;ve aware of both the good and bad parts of the relationship.
Go is still, compared to many popular languages, simpler language - but many times when people claim Go is a simple language what is being implied is that Go is minimalistic &amp; it scoffs at unnecessary features.
This post is about where Go fails at minimalism."/>

  
  
  
  <link rel="stylesheet" href="/blog/css/style-white.css">
  
   <link rel="stylesheet" href="/blog/css/custom.css"> 
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  <link rel="icon" type="image/png" href="/favicon.ico" />
  
  
  
  
  
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-24122659-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/blog/">Home</a></li>
         
        <li><a href="/blog/today-i-learned/">Today I Learned</a></li>
         
        <li><a href="/blog/about/">About</a></li>
         
        <li><a href="/blog/contact/">Contact</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://tunacici.com/blog/2020/02/22/modem-rebooter/">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://tunacici.com/blog/2020/03/21/covid-19-and-the-worlds-refusal-to-blame-china/">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&text=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&title=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&is_video=false&description=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Go%20is%20not%20a%20simple%20language&body=Check out this article: https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&title=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&title=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&title=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-stumbleupon " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&title=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-digg " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&name=Go%20is%20not%20a%20simple%20language&description=I%20still%20love%20Go%20and%20it%26rsquo%3bs%20the%20best%20language%20I%26rsquo%3bve%20used%20-%20but%20like%20in%20mature%20relationships%2c%20I%26rsquo%3bve%20aware%20of%20both%20the%20good%20and%20bad%20parts%20of%20the%20relationship.%0aGo%20is%20still%2c%20compared%20to%20many%20popular%20languages%2c%20simpler%20language%20-%20but%20many%20times%20when%20people%20claim%20Go%20is%20a%20simple%20language%20what%20is%20being%20implied%20is%20that%20Go%20is%20minimalistic%20%26amp%3b%20it%20scoffs%20at%20unnecessary%20features.%0aThis%20post%20is%20about%20where%20Go%20fails%20at%20minimalism.">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&t=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#package-import-path-different-than-package-name">Package import path different than package name</a></li>
    <li><a href="#func-fooa-b-c-string"><code>func foo(a, b, c string)</code></a></li>
    <li><a href="#goto-label-and-break-label-support"><code>goto &lt;label&gt;</code> (and <code>break &lt;label&gt;</code>) support</a></li>
    <li><a href="#new-keyword"><code>new</code> keyword</a></li>
    <li><a href="#naked-return">Naked return</a></li>
    <li><a href="#octal-number-support">Octal number support</a></li>
    <li><a href="#recent-number-literal-addition">Recent number literal addition</a></li>
    <li><a href="#language-level-support-for-side-effect-imports">Language-level support for side-effect imports</a></li>
    <li><a href="#import--something"><code>import . &quot;something&quot;</code></a></li>
    <li><a href="#easy-to-make-mistakes-with-range-pointers">Easy to make mistakes with range pointers</a></li>
    <li><a href="#conditional-compilation-syntax">Conditional compilation syntax</a></li>
    <li><a href="#defer-behaviour"><code>defer</code> behaviour</a></li>
    <li><a href="#typed-vs-untyped-nil">Typed vs untyped nil</a></li>
    <li><a href="#semi-unstructured-struct-member-annotations">Semi-unstructured struct member annotations</a></li>
    <li><a href="#var-keyword"><code>var</code> keyword</a></li>
    <li><a href="#other-idiosyncrasies-in-stdlib">Other idiosyncrasies in stdlib</a>
      <ul>
        <li><a href="#leave-hard-security-details-to-callers">Leave hard security details to callers</a></li>
        <li><a href="#stdlib-encourages-for-global-state--side-effects">Stdlib encourages for global state / side effects</a></li>
        <li><a href="#nethttp-package-defaults">net/http package defaults</a></li>
        <li><a href="#non-posix-compliant-flag-package">Non-POSIX compliant flag package</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
  </span>
</div>

<div class="alert-warning">
	🚨
	<a href="https://www.reuters.com/world/europe/icc-says-may-investigate-possible-war-crimes-after-russian-invasion-ukraine-2022-02-25/">Putin is a war criminal</a>.
	<a href="https://arstechnica.com/science/2022/03/russia-attacked-ukrainian-hospitals-violating-humanitarian-law-who-says/">Russians are bombing hospitals</a>.
	💔🇺🇦
</div>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
    

      <h1 class="posttitle" itemprop="name headline">
        Go is not a simple language
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2020-02-24 11:37:00 &#43;0000 UTC" itemprop="datePublished">2020-02-24</time>
          
        </div>
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/programming/" rel="tag">programming</a>
            
        </div>
        
      </div>
    </header>

  
    <div class="content" itemprop="articleBody">
      <p>I still love Go and it&rsquo;s the best language I&rsquo;ve used - but like in mature relationships,
I&rsquo;ve aware of both the good and bad parts of the relationship.</p>
<p>Go is still, compared to many popular languages, <strong>simpler</strong> language - but many times
when people claim Go is a simple language what is being implied is that Go is minimalistic &amp;
it scoffs at unnecessary features.</p>
<p>This post is about where Go fails at minimalism. I.e. these are features I think a truly
&ldquo;simple&rdquo; language should not have.</p>
<p>Note: I&rsquo;m actually for Go to add generics, pattern matching, enums and not a hardcore
&ldquo;Go should be simple&rdquo; -type of person. So I&rsquo;m not advocating for Go to be hardcore simple -
these are mainly my observations for:</p>
<ul>
<li>where Go could have been simpler</li>
<li>OR where said feature is totally reasonable, but is necessarily not <em>simple</em> or easy to
understand</li>
</ul>
<p>I&rsquo;ve had this article as a draft for quite some time, but
<a href="https://dave.cheney.net/2020/02/23/the-zen-of-go">yesterday&rsquo;s post of Dave Cheney&rsquo;s</a>
prompted me to finally finish this, probably due to these quotes:</p>
<blockquote>
<p>Go holds simplicity as a core value.
(&hellip;)
Go is a simple language, only 25 keywords.
(&hellip;)
We want to optimise our code to be clear to the reader.</p>
</blockquote>
<h2 id="package-import-path-different-than-package-name">Package import path different than package name</h2>
<p>Most of the time it goes like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#0c6">&#34;github.com/function61/gokit/systemdinstaller&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#0c6">&#34;github.com/joonas-fi/modemrebooter/pkg/internetupdetector&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	systemdinstaller.<span style="color:#ff8000;font-weight:bold">Install</span>()
</span></span><span style="display:flex;"><span>	internetupdetector.<span style="color:#ff8000;font-weight:bold">Up</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>You can deduce the package name from the import path. E.g. <code>import &quot;foo/bar/systemdinstaller&quot;</code>
is usually <code>systemdinstaller</code>.</p>
<p>BUT, it&rsquo;s only usually - not always.</p>
<p>This behaviour is really prevalent. Guess the names of these packages:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#0c6">&#34;github.com/microsoft/go-winio&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#0c6">&#34;github.com/nsf/termbox-go&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#0c6">&#34;google.golang.org/api/drive/v3&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#0080ff;font-style:italic">// correct answers
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>	winio.<span style="color:#ff8000;font-weight:bold">DialPipe</span>()
</span></span><span style="display:flex;"><span>	termbox.<span style="color:#ff8000;font-weight:bold">Init</span>()
</span></span><span style="display:flex;"><span>	drive.<span style="color:#ff8000;font-weight:bold">NewService</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Note: I am not complaining about the ability to alias the import (there needs to be a way
to mitigate collisions) - that&rsquo;s a different matter. I&rsquo;m just saying there shouldn&rsquo;t be a
way for reusable package authors to export a different name than the import path is.</p>
<h2 id="func-fooa-b-c-string"><code>func foo(a, b, c string)</code></h2>
<p>Yeah it&rsquo;s fast to type when all of the params have the same type, but this it somewhat
rarely used magic syntax that one has to be aware of when reading code.</p>
<p>It&rsquo;s cute, sure - I&rsquo;ve even used it many times, out of laziness, despite feeling like I
need to take a shower after typing that out.</p>
<p>But I don&rsquo;t think the feature carries its own weight.</p>
<h2 id="goto-label-and-break-label-support"><code>goto &lt;label&gt;</code> (and <code>break &lt;label&gt;</code>) support</h2>
<p>See <a href="https://stackoverflow.com/a/11105482/2176740">example use case</a>.</p>
<p>I&rsquo;ve cranked out a metric shit-ton of Go code (see my
<a href="https://github.com/function61">professional GitHub profile</a> and my
<a href="https://github.com/joonas-fi">personal GitHub profile</a>), and not once have I needed to
reach out for <code>goto</code> or labeled <code>break</code>.</p>
<p>The closest I&rsquo;ve come to needing those was to break out of <code>for { select { } }</code>
<a href="https://twitter.com/joonas_fi/status/1230771329294405634">here</a> but instead I opted for a
<code>return</code> inside an immediately-executing function expression.</p>
<p>I also could have opted in for a simple variable but it would have been a few more lines of
code.</p>
<p>Bonus reading:
<a href="https://homepages.cwi.nl/~storm/teaching/reader/Dijkstra68.pdf">Dijkstra on GOTO</a>.</p>
<h2 id="new-keyword"><code>new</code> keyword</h2>
<p>Another keyword I don&rsquo;t think I&rsquo;ve used even once.</p>
<p>These are basically the same:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">struct</span> personGreeter {
</span></span><span style="display:flex;"><span>	name <span style="color:#5918bb;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	bar1 <span style="color:#2c5dcd">:=</span> <span style="color:#2c5dcd">&amp;</span>personGreeter{}
</span></span><span style="display:flex;"><span>	bar2 <span style="color:#2c5dcd">:=</span> <span style="color:#5918bb;font-weight:bold">new</span>(personGreeter)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Why two ways to do the same thing?</p>
<p><code>new</code> is even inferior because you can&rsquo;t initialize members at the same time like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>bar1 <span style="color:#2c5dcd">:=</span> <span style="color:#2c5dcd">&amp;</span>personGreeter{name: <span style="color:#0c6">&#34;Joonas&#34;</span>}
</span></span></code></pre></div><h2 id="naked-return">Naked return</h2>
<p>This sounds sexy, but it&rsquo;s not. This is another one of those features that don&rsquo;t carry
its own weight.</p>
<p>Example usage from
<a href="https://www.ardanlabs.com/blog/2013/10/functions-and-naked-returns-in-go.html">Ardan Labs</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">ReturnId</span>() (id <span style="color:#5918bb;font-weight:bold">int</span>, err <span style="color:#5918bb;font-weight:bold">error</span>) {
</span></span><span style="display:flex;"><span>   id = <span style="color:#5918bb;font-weight:bold">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#2c5dcd;font-weight:bold">if</span> id <span style="color:#2c5dcd">==</span> <span style="color:#5918bb;font-weight:bold">10</span> {
</span></span><span style="display:flex;"><span>      err <span style="color:#2c5dcd">:=</span> fmt.<span style="color:#ff8000;font-weight:bold">Errorf</span>(<span style="color:#0c6">&#34;Invalid Id\n&#34;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#2c5dcd;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#2c5dcd;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>That is the same as:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">ReturnId</span>() (<span style="color:#5918bb;font-weight:bold">int</span>, <span style="color:#5918bb;font-weight:bold">error</span>) {
</span></span><span style="display:flex;"><span>   id <span style="color:#2c5dcd">:=</span> <span style="color:#5918bb;font-weight:bold">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#2c5dcd;font-weight:bold">if</span> id <span style="color:#2c5dcd">==</span> <span style="color:#5918bb;font-weight:bold">10</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#0080ff;font-style:italic">// actually this is even better, since our error case
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>      <span style="color:#0080ff;font-style:italic">// returns explicit &#34;garbage ID&#34; (instead of 10)
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>      <span style="color:#2c5dcd;font-weight:bold">return</span> <span style="color:#5918bb;font-weight:bold">0</span>, fmt.<span style="color:#ff8000;font-weight:bold">Errorf</span>(<span style="color:#0c6">&#34;Invalid Id\n&#34;</span>)
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#2c5dcd;font-weight:bold">return</span> id, <span style="color:#2c5dcd;font-weight:bold">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Also note, that we are no longer reassigning to &ldquo;id&rdquo; variable. One nice thing about Go
that I like is that you&rsquo;ve to be explicit about reassigning values to variables (<code>:=</code> vs <code>=</code>).
Immutability makes things safer and simpler. Immutability is sexy. Naked returns are not.</p>
<p>I always read <code>id = ...</code> as a bit dangerous looking, since it warns me that the value of the
variable is different during its lifetime. The original example was under the hood more
like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">ReturnId</span>() (id <span style="color:#5918bb;font-weight:bold">int</span>, err <span style="color:#5918bb;font-weight:bold">error</span>) {
</span></span><span style="display:flex;"><span>   <span style="color:#2c5dcd;font-weight:bold">var</span> id <span style="color:#5918bb;font-weight:bold">int</span> <span style="color:#0080ff;font-style:italic">// basically id := 0
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>   id = <span style="color:#5918bb;font-weight:bold">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#2c5dcd;font-weight:bold">if</span> id <span style="color:#2c5dcd">==</span> <span style="color:#5918bb;font-weight:bold">10</span> {
</span></span><span style="display:flex;"><span>      err <span style="color:#2c5dcd">:=</span> fmt.<span style="color:#ff8000;font-weight:bold">Errorf</span>(<span style="color:#0c6">&#34;Invalid Id\n&#34;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#2c5dcd;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#2c5dcd;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now of course this example still doesn&rsquo;t look too dangerous, but imagine in real world
code there could be lots of lines before the <code>id = 10</code> is reassigned.</p>
<h2 id="octal-number-support">Octal number support</h2>
<p>This might look familiar:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>ioutil.<span style="color:#ff8000;font-weight:bold">WriteFile</span>(<span style="color:#0c6">&#34;hello.txt&#34;</span>, []<span style="color:#5918bb;font-weight:bold">byte</span>(<span style="color:#0c6">&#34;hello world\n&#34;</span>), <span style="color:#5918bb;font-weight:bold">0755</span>)
</span></span></code></pre></div><p>Numbers starting with <code>0&lt;more digits&gt;</code> are octal numbers. Basically it encodes three bits
in a one (base 10) digit.</p>
<p>I personally haven&rsquo;t seen octal numbers used for anything else than &ldquo;chmod bits&rdquo; i.e.
owner bits + group bits + other bits. <code>0755</code> therefore decodes to:</p>
<ul>
<li>Owner = <code>read</code>, <code>write</code>, <code>execute</code></li>
<li>Group = <code>read</code>, <code>execute</code></li>
<li>Other = <code>read</code>, <code>execute</code></li>
</ul>
<p>Since the &ldquo;chmod bit groups&rdquo; is just a single <code>int</code> under the hood, why not just have a
function for generating the int? Something like
<code>func FilePerms(owner uint8, group uint8, other uint8) int</code> that you could still call like
this:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#ff8000;font-weight:bold">FilePerms</span>(<span style="color:#5918bb;font-weight:bold">7</span>,<span style="color:#5918bb;font-weight:bold">5</span>,<span style="color:#5918bb;font-weight:bold">5</span>) <span style="color:#0080ff;font-style:italic">// looks familiar enough
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic">// or even:
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span><span style="color:#ff8000;font-weight:bold">FilePerms</span>(RWX, RX, RX)
</span></span></code></pre></div><p>I&rsquo;m sounding like a broken record, but&hellip; this feature doesn&rsquo;t carry its own weight.</p>
<h2 id="recent-number-literal-addition">Recent number literal addition</h2>
<p><a href="https://golang.org/doc/go1.13#language">A new proposal landed</a> that:</p>
<ul>
<li>
<p>Expands the octal number support from <code>0755</code> to also include <code>0o755</code> (also <code>0o7_5_5</code> because YOLO?)</p>
</li>
<li>
<p>Allows you two write <code>1000000</code> as <code>1_000_000</code></p>
<ul>
<li>Not necessarily a bad thing for readability, though</li>
</ul>
</li>
<li>
<p>Added binary literals: <code>0b1000</code> (8 in decimal). Also <code>0b1_0_0_0</code></p>
</li>
<li>
<p>Makes this a legal number: <code>0x_A_A.d_bp8i</code> (hat tip: <a href="https://youtu.be/0c-1KJwSMCw?t=106">Francesc Campoy</a>)</p>
</li>
</ul>
<p>All in all, these make the language more complex and not simple, but I mainly criticize
adding more support to octal numbers.</p>
<p>I think adding complexity is very ok if the feature carries its own weight.</p>
<h2 id="language-level-support-for-side-effect-imports">Language-level support for side-effect imports</h2>
<p>Go compiler errors if you import a package you&rsquo;re not explicitly using (I think this is
very good). This means though that you cannot compile code that imports a package only for
side effects, unless you use a special syntax to tell the compiler &ldquo;yes, this is what I
want&rdquo;. This is the syntax: <code>import _ &quot;path/to/module&quot;</code>.</p>
<p>I get that side effects can be useful sometimes.. But side effects are somewhat often
used in Go&rsquo;s stdlib (more of this later). This looks like the language gives first-class
support for doing something that should be frowned upon. I think there just could&rsquo;ve been
a warning suppression through an annotation syntax or a more shameful keyword like
<code>import _side_effects &quot;path/to/module&quot;</code> :D.</p>
<h2 id="import--something"><code>import . &quot;something&quot;</code></h2>
<p>This will import all of package&rsquo;s identifiers so instead of <code>something.Foo</code> you can just
use <code>Foo</code>.</p>
<p>I don&rsquo;t know of any code that uses this, and in fact I learned of this just today. This
kind of magic makes it harder for people to read code because you&rsquo;ve to know all of the
syntax&rsquo;s intricacies to understand. Code should be optimized for reading.</p>
<h2 id="easy-to-make-mistakes-with-range-pointers">Easy to make mistakes with range pointers</h2>
<p>Honestly, this is a rookie level mistake but I&rsquo;ll confess that even after years of Go
coding, I got bitten by this and I realize it&rsquo;s embarrassing because this is a pretty basic
programming language thing and I should have known better.</p>
<p>But, I still wish the language didn&rsquo;t allow me to make the mistake. A demo:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic">// takes a non-pointer string, and returns a pointer to it
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">stringToStringPointer</span>(input <span style="color:#5918bb;font-weight:bold">string</span>) <span style="color:#2c5dcd">*</span><span style="color:#5918bb;font-weight:bold">string</span> { <span style="color:#2c5dcd;font-weight:bold">return</span> <span style="color:#2c5dcd">&amp;</span>input }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	ptrs1 <span style="color:#2c5dcd">:=</span> []<span style="color:#2c5dcd">*</span><span style="color:#5918bb;font-weight:bold">string</span>{}
</span></span><span style="display:flex;"><span>	ptrs2 <span style="color:#2c5dcd">:=</span> []<span style="color:#2c5dcd">*</span><span style="color:#5918bb;font-weight:bold">string</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">for</span> _, x <span style="color:#2c5dcd">:=</span> <span style="color:#2c5dcd;font-weight:bold">range</span> []<span style="color:#5918bb;font-weight:bold">string</span>{<span style="color:#0c6">&#34;foo&#34;</span>, <span style="color:#0c6">&#34;bar&#34;</span>} {
</span></span><span style="display:flex;"><span>		<span style="color:#0080ff;font-style:italic">// since we need to take pointer from &#34;x&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>		<span style="color:#0080ff;font-style:italic">// it&#39;s clearly a non-pointer?
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>		ptrs1 = <span style="color:#5918bb;font-weight:bold">append</span>(ptrs1, <span style="color:#2c5dcd">&amp;</span>x)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#0080ff;font-style:italic">// also non-pointer because we can give &#34;x&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>		<span style="color:#0080ff;font-style:italic">// to non-pointer arg in fn as-is?
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>		ptrs2 = <span style="color:#5918bb;font-weight:bold">append</span>(ptrs2, <span style="color:#ff8000;font-weight:bold">stringToStringPointer</span>(x))
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#ff8000;font-weight:bold">Printf</span>(<span style="color:#0c6">&#34;ptrs1[0] = %s\n&#34;</span>, <span style="color:#2c5dcd">*</span>ptrs1[<span style="color:#5918bb;font-weight:bold">0</span>])
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#ff8000;font-weight:bold">Printf</span>(<span style="color:#0c6">&#34;ptrs1[1] = %s\n&#34;</span>, <span style="color:#2c5dcd">*</span>ptrs1[<span style="color:#5918bb;font-weight:bold">1</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#ff8000;font-weight:bold">Printf</span>(<span style="color:#0c6">&#34;ptrs2[0] = %s\n&#34;</span>, <span style="color:#2c5dcd">*</span>ptrs2[<span style="color:#5918bb;font-weight:bold">0</span>])
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#ff8000;font-weight:bold">Printf</span>(<span style="color:#0c6">&#34;ptrs2[1] = %s\n&#34;</span>, <span style="color:#2c5dcd">*</span>ptrs2[<span style="color:#5918bb;font-weight:bold">1</span>])
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This prints out:</p>
<pre><code>ptrs1[0] = bar
ptrs1[1] = bar
ptrs2[0] = foo
ptrs2[1] = bar
</code></pre>
<p>Because you have to be aware, that even when &ldquo;x&rdquo; looks and behaves like a non-pointer,
it&rsquo;s a pointer under the hood (presumably for optimization for <code>range</code> operations)</p>
<p>I had an actual issue related to this, producing a hard-to-debug problem, but I&rsquo;m glad I was
able to find a lint rule for it.</p>
<h2 id="conditional-compilation-syntax">Conditional compilation syntax</h2>
<p>This works:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic">// +build !windows
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">package</span> sshagent
</span></span></code></pre></div><p>This is silently ignored (tries to build on Windows):</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic">// +build !windows
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span><span style="color:#2c5dcd;font-weight:bold">package</span> sshagent
</span></span></code></pre></div><p>Also this is ignored:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic">//+build !windows
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span><span style="color:#2c5dcd;font-weight:bold">package</span> sshagent
</span></span></code></pre></div><p>To be fair, static analysis tool <code>$ go vet</code> finds both of these errors. But not this:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic">//build !windows
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span><span style="color:#2c5dcd;font-weight:bold">package</span> sshagent
</span></span></code></pre></div><p>If the syntax is as unstructured as this (&ldquo;structure inside unstructured comment&rdquo;), I&rsquo;d
appreciate if mistakes were not this easy to make.</p>
<h2 id="defer-behaviour"><code>defer</code> behaviour</h2>
<p><code>defer</code> is used as kind-of (from other languages) <code>with () {}</code> or <code>finally {}</code> structure
for all kinds of &ldquo;ensure cleanup no matter where from I exit in this function&rdquo;:</p>
<ul>
<li>Close opened file</li>
<li>Rollback DB transaction</li>
<li>Unlock mutex etc.</li>
</ul>
<p>I have nothing against <code>defer</code>. But I&rsquo;ll argue it&rsquo;s not simple you having to be aware of
these caveats:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">say</span>(stuff <span style="color:#5918bb;font-weight:bold">string</span>) {
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#ff8000;font-weight:bold">Println</span>(stuff)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">defer</span> <span style="color:#ff8000;font-weight:bold">say</span>(<span style="color:#0c6">&#34;msg 1&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">defer</span> <span style="color:#ff8000;font-weight:bold">say</span>(<span style="color:#0c6">&#34;msg 2&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Prints <code>msg 2</code> first. Also, can you spot the bug:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">logic1</span>(tx <span style="color:#2c5dcd">*</span>transaction) <span style="color:#5918bb;font-weight:bold">error</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">defer</span> tx.<span style="color:#ff8000;font-weight:bold">Rollback</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	tx.<span style="color:#ff8000;font-weight:bold">Execute</span>(<span style="color:#0c6">&#34;UPDATE users SET ...&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">return</span> tx.<span style="color:#ff8000;font-weight:bold">Commit</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">logic2</span>(tx <span style="color:#2c5dcd">*</span>transaction) {
</span></span><span style="display:flex;"><span>	<span style="color:#0080ff;font-style:italic">// add error logging if rollback fails
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>	<span style="color:#2c5dcd;font-weight:bold">defer</span> <span style="color:#ff8000;font-weight:bold">logIfError</span>(tx.<span style="color:#ff8000;font-weight:bold">Rollback</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	tx.<span style="color:#ff8000;font-weight:bold">Execute</span>(<span style="color:#0c6">&#34;UPDATE users SET ...&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">return</span> tx.<span style="color:#ff8000;font-weight:bold">Commit</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">logIfError</span>(err <span style="color:#5918bb;font-weight:bold">error</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">if</span> err <span style="color:#2c5dcd">!=</span> <span style="color:#2c5dcd;font-weight:bold">nil</span> {
</span></span><span style="display:flex;"><span>		log.<span style="color:#ff8000;font-weight:bold">Printf</span>(<span style="color:#0c6">&#34;ERROR: %v&#34;</span>, err)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Only in <code>logic2</code> the transaction is rolled back, before the <code>tx.Execute()</code> call.</p>
<h2 id="typed-vs-untyped-nil">Typed vs untyped nil</h2>
<p>Guess what this outputs:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">type</span> Greeter <span style="color:#2c5dcd;font-weight:bold">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#ff8000;font-weight:bold">Greet</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">type</span> helloer <span style="color:#2c5dcd;font-weight:bold">struct</span> {}
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> (h <span style="color:#2c5dcd">*</span>helloer) <span style="color:#ff8000;font-weight:bold">Greet</span>() { fmt.<span style="color:#ff8000;font-weight:bold">Println</span>(<span style="color:#0c6">&#34;hello&#34;</span>) }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">newGreeter1</span>() Greeter {
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">var</span> x <span style="color:#2c5dcd">*</span>helloer
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">newGreeter2</span>() <span style="color:#2c5dcd">*</span>helloer {
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">var</span> x <span style="color:#2c5dcd">*</span>helloer
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">newGreeter3</span>() Greeter {
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">var</span> x Greeter
</span></span><span style="display:flex;"><span>	<span style="color:#2c5dcd;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#0080ff;font-style:italic">// all of the greeters sematically return nil and something that implements Greeter
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>	fmt.<span style="color:#ff8000;font-weight:bold">Printf</span>(<span style="color:#0c6">&#34;newGreeter1 nil: %v\n&#34;</span>, <span style="color:#ff8000;font-weight:bold">newGreeter1</span>() <span style="color:#2c5dcd">==</span> <span style="color:#2c5dcd;font-weight:bold">nil</span>)
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#ff8000;font-weight:bold">Printf</span>(<span style="color:#0c6">&#34;newGreeter2 nil: %v\n&#34;</span>, <span style="color:#ff8000;font-weight:bold">newGreeter2</span>() <span style="color:#2c5dcd">==</span> <span style="color:#2c5dcd;font-weight:bold">nil</span>)
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#ff8000;font-weight:bold">Printf</span>(<span style="color:#0c6">&#34;newGreeter3 nil: %v\n&#34;</span>, <span style="color:#ff8000;font-weight:bold">newGreeter3</span>() <span style="color:#2c5dcd">==</span> <span style="color:#2c5dcd;font-weight:bold">nil</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>It outputs:</p>
<pre><code>newGreeter1 nil: false
newGreeter2 nil: true
newGreeter3 nil: true
</code></pre>
<p>More about this on <a href="https://dave.cheney.net/2017/08/09/typed-nils-in-go-2">Dave Cheney&rsquo;s post</a></p>
<p>One has to
<a href="https://stackoverflow.com/questions/13476349/check-for-nil-and-nil-interface-in-go">reach for reflection to detect nil in all cases</a>.</p>
<p>In real world code I had a case like this recently that crashed at runtime:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic">// should have been:
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic">//   var transport http.RoundTripper
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span><span style="color:#2c5dcd;font-weight:bold">var</span> transport <span style="color:#2c5dcd">*</span>http.Transport 
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">if</span> <span style="color:#2c5dcd;font-weight:bold">true</span> { <span style="color:#0080ff;font-style:italic">// this expression was of course dynamic in my code
</span></span></span><span style="display:flex;"><span><span style="color:#0080ff;font-style:italic"></span>	transport = <span style="color:#2c5dcd">&amp;</span>http.Transport{
</span></span><span style="display:flex;"><span>		TLSClientConfig: <span style="color:#2c5dcd">&amp;</span>tls.Config{
</span></span><span style="display:flex;"><span>			ServerName: <span style="color:#0c6">&#34;foo&#34;</span>,
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">return</span> <span style="color:#2c5dcd">&amp;</span>backend{<span style="color:#2c5dcd">&amp;</span>httputil.ReverseProxy{
</span></span><span style="display:flex;"><span>	Transport: transport,
</span></span></code></pre></div><p><code>RoundTripper</code> is an interface, and <code>*http.Transport</code> is its concrete implementation.
<code>ReverseProxy</code> takes <code>RoundTripper</code> but I gave it <code>*http.Transport</code> - it compiles and
everything should be good, right? No, it crashed at runtime because the value of my
fucking variable was nil and not <em>at-runtime-typed nil</em>. (╯°□°)╯︵ ┻━┻</p>
<h2 id="semi-unstructured-struct-member-annotations">Semi-unstructured struct member annotations</h2>
<p>To encode a struct as JSON, we can control the key name in JSON - with a struct member annotation:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">type</span> person <span style="color:#2c5dcd;font-weight:bold">struct</span> {
</span></span><span style="display:flex;"><span>	Name <span style="color:#5918bb;font-weight:bold">string</span> <span style="color:#0c6">`json:&#34;name&#34;`</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	asJson, _ <span style="color:#2c5dcd">:=</span> json.<span style="color:#ff8000;font-weight:bold">Marshal</span>(<span style="color:#2c5dcd">&amp;</span>person{Name: <span style="color:#0c6">&#34;Joonas&#34;</span>})
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#ff8000;font-weight:bold">Printf</span>(<span style="color:#0c6">&#34;%s\n&#34;</span>, asJson)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Prints <code>{&quot;name&quot;:&quot;Joonas&quot;}</code> - this is what we wanted.</p>
<p>What if you forget quotes from the annotation?</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">type</span> person <span style="color:#2c5dcd;font-weight:bold">struct</span> {
</span></span><span style="display:flex;"><span>	Name <span style="color:#5918bb;font-weight:bold">string</span> <span style="color:#0c6">`json:name`</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>It builds and JSON now incorrectly prints <code>{&quot;Name&quot;:&quot;Joonas&quot;}</code>. To be fair, even though the
compiler is happy, Go&rsquo;s static analysis tool <code>$ go vet</code> finds this error.</p>
<p>How about a typo in the annotation:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">type</span> person <span style="color:#2c5dcd;font-weight:bold">struct</span> {
</span></span><span style="display:flex;"><span>	Name <span style="color:#5918bb;font-weight:bold">string</span> <span style="color:#0c6">`jon:&#34;name&#34;`</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The compiler and static analysis are happy, with incorrect result.</p>
<p>How about other annotations given to JSON encoder?</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">type</span> person <span style="color:#2c5dcd;font-weight:bold">struct</span> {
</span></span><span style="display:flex;"><span>	Name       <span style="color:#5918bb;font-weight:bold">string</span> <span style="color:#0c6">`json:&#34;name&#34;`</span>
</span></span><span style="display:flex;"><span>	Occupation <span style="color:#5918bb;font-weight:bold">string</span> <span style="color:#0c6">`json:&#34;occupation&#34;`</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">func</span> <span style="color:#ff8000;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	asJson, _ <span style="color:#2c5dcd">:=</span> json.<span style="color:#ff8000;font-weight:bold">Marshal</span>(<span style="color:#2c5dcd">&amp;</span>person{Name: <span style="color:#0c6">&#34;Joonas&#34;</span>})
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#ff8000;font-weight:bold">Printf</span>(<span style="color:#0c6">&#34;%s\n&#34;</span>, asJson)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Prints <code>{&quot;name&quot;:&quot;Joonas&quot;,&quot;occupation&quot;:&quot;&quot;}</code>. What if we want the <code>occupation</code> key to be
omitted if the value is empty? This is know as <code>omitempty</code> flag to JSON encoder:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">type</span> person <span style="color:#2c5dcd;font-weight:bold">struct</span> {
</span></span><span style="display:flex;"><span>	Name       <span style="color:#5918bb;font-weight:bold">string</span> <span style="color:#0c6">`json:&#34;name&#34;`</span>
</span></span><span style="display:flex;"><span>	Occupation <span style="color:#5918bb;font-weight:bold">string</span> <span style="color:#0c6">`json:&#34;occupation,omitempty&#34;`</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now correctly prints <code>{&quot;name&quot;:&quot;Joonas&quot;}</code>. What if we typo it:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">type</span> person <span style="color:#2c5dcd;font-weight:bold">struct</span> {
</span></span><span style="display:flex;"><span>	Name       <span style="color:#5918bb;font-weight:bold">string</span> <span style="color:#0c6">`json:&#34;name&#34;`</span>
</span></span><span style="display:flex;"><span>	Occupation <span style="color:#5918bb;font-weight:bold">string</span> <span style="color:#0c6">`json:&#34;occupation,omltempty&#34;`</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Incorrectly prints <code>{&quot;name&quot;:&quot;Joonas&quot;}</code> while the compiler and static alazyer are happy.</p>
<p>My gripe is that the annotations are not structural enough to prevent easy mistakes.</p>
<h2 id="var-keyword"><code>var</code> keyword</h2>
<p>I find needing this somewhat rarely. The common reason I need it for is to have a nil pointer:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">var</span> person <span style="color:#2c5dcd">*</span>Person
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">if</span> personName <span style="color:#2c5dcd">!=</span> <span style="color:#0c6">&#34;&#34;</span> {
</span></span><span style="display:flex;"><span>	person = <span style="color:#ff8000;font-weight:bold">NewPerson</span>(personName)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>But you can do the same with this:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>person <span style="color:#2c5dcd">:=</span> (<span style="color:#2c5dcd">*</span>Person)(<span style="color:#2c5dcd;font-weight:bold">nil</span>)
</span></span><span style="display:flex;"><span><span style="color:#2c5dcd;font-weight:bold">if</span> personName <span style="color:#2c5dcd">!=</span> <span style="color:#0c6">&#34;&#34;</span> {
</span></span><span style="display:flex;"><span>	person = <span style="color:#ff8000;font-weight:bold">NewPerson</span>(personName)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Again, why two ways to do the same thing?</p>
<p>The other place <code>var</code> is needed for is package-level variables - i.e. global mutable state.
A point could be made about globals (and Go&rsquo;s stdlib uses too much of it - more on this later)
but pragmatically speaking I get that there&rsquo;s sometimes a need for them.</p>
<h2 id="other-idiosyncrasies-in-stdlib">Other idiosyncrasies in stdlib</h2>
<h3 id="leave-hard-security-details-to-callers">Leave hard security details to callers</h3>
<p>Why am I talking about issues in stdlib? One could argue this is no longer about
programming language itself? Fair point, but I think language&rsquo;s standard library is
somewhat part of the language - at least an integral part to its ecosystem. And the stdlib
should be a good example for the ecosystem to follow. Quote from Dave&rsquo;s article:</p>
<blockquote>
<p>APIs should be easy to use and hard to misuse.</p>
</blockquote>
<p>I recently came upon a really popular file archiver/compression/decompression Go-based project
that had (and still has) a serious
<a href="https://snyk.io/research/zip-slip-vulnerability">path traversal vulnerability</a>.</p>
<p>Upon digging, I found from Go&rsquo;s <code>archive/zip</code> docs that the responsibility is
<a href="https://pkg.go.dev/archive/zip?tab=doc#FileHeader">just outsourced to the caller</a> -
leading to vulnerable software because the API is easy to misuse <strong>dangerously</strong> (the
vulnerability can usually easily be used to gain remote access):</p>
<blockquote>
<p>When reading zip files, the Name field is populated from the zip file directly and is
not validated for correctness. It is the caller&rsquo;s responsibility to sanitize it as
appropriate, including canonicalizing slash directions, validating that paths are relative,
and preventing path traversal through filenames (&quot;../../../&quot;).</p>
</blockquote>
<p>To make matters worse, <a href="https://pkg.go.dev/archive/tar">archive/tar</a> doesn&rsquo;t warn of this
security issue (consistency), leaving some - including me, to deduce <code>archive/tar</code> maybe
doesn&rsquo;t suffer from this issue. But <code>archive/tar</code> is vulnerable too.</p>
<p>What could have been done better? Path traversal below root of the archive is almost
always a red flag and probably is needed in 0.01 % of the cases. &ldquo;But in some cases
you need unsanitized low-level access to the archive&rdquo;? There could have been a flag for
those cases, think:</p>
<div class="highlight"><pre tabindex="0" style="color:#4d4d4d;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>zip.<span style="color:#ff8000;font-weight:bold">NewReader</span>(file, zip.DontErrorOnInsecurePathTraversal)
</span></span></code></pre></div><p>Or if the problem&rsquo;s much harder, at least the file&rsquo;s <code>Name</code> string could have been of a
different type like <code>type TaintedFilepath string</code> that you&rsquo;d have to un-taint by piping it
through stdlib or 3rd party provided function. And if you really wanted &ldquo;safety=off&rdquo; just
cast it to string.</p>
<h3 id="stdlib-encourages-for-global-state--side-effects">Stdlib encourages for global state / side effects</h3>
<p>A few from top of my head:</p>
<ul>
<li>Importing <a href="https://godoc.org/net/http/pprof">net/http/pprof</a> attaches HTTP handlers</li>
<li><code>image.Decode()</code> can open PNG files if any of your packages (or your dependencies) has
imported (at least for side effect) <code>image/png</code> etc.</li>
<li><code>net/http</code> has a default router (<code>net/http.DefaultServeMux</code>) that any code can attach
handlers to via side effects (I mention <code>pprof</code> again), and code examples in <code>net/http</code>
encourage use of this global default router.</li>
</ul>
<h3 id="nethttp-package-defaults">net/http package defaults</h3>
<ul>
<li>Not common-case defaults
<ul>
<li><a href="https://github.com/function61/gokit/blob/c2d99cc8b9622b1365b86d5579af307c329bf349/ezhttp/ezhttp.go#L112">No boilerplate-free support</a>
for <code>context</code> (= cancellation)</li>
<li>Doesn&rsquo;t give error for error responses (only errors for transport-level errors)</li>
<li>Common cases could&rsquo;ve been handled and for low-level cases there
<a href="https://github.com/function61/gokit/blob/c2d99cc8b9622b1365b86d5579af307c329bf349/ezhttp/ezhttp_test.go#L122">could&rsquo;be been an opt-in</a></li>
</ul>
</li>
<li>Though I understand, the package is older part of the codebase and must keep backwards compat
<ul>
<li>In this regard, the package has aged amazingly well (gaining transparent HTTP2 support etc.)</li>
</ul>
</li>
</ul>
<h3 id="non-posix-compliant-flag-package">Non-POSIX compliant flag package</h3>
<p>I really wanted to love the <a href="https://pkg.go.dev/flag?tab=doc">flag</a> package since I
believe it benefits the entire ecosystem to have one quality package everyone agrees to use
so there aren&rsquo;t 10 competing implementations everyone has to spend time researching and
<a href="https://www.agwa.name/blog/post/always_review_your_dependencies">vetting</a>.</p>
<p>But the flag package is just too weird to be loved - it&rsquo;s different than practically every
CLI we&rsquo;re used to. This is what we&rsquo;re used to:</p>
<pre><code>$ foo --help
Options:
  -u, --broker-url string   Broker URL (default &quot;localhost&quot;)
  -c, --client-id string    MQTT Client Id
  -r, --reticulate bool     Reticulate
  -s, --splines bool        Splines also

$ foo --broker-url localhost
</code></pre>
<p>Instead, the <code>flag</code> package makes your CLIs look like:</p>
<pre><code>$ foo --help
Options:
  -broker-url  string
               Broker URL (default &quot;localhost&quot;)
  -client-id   string
               MQTT Client Id
  -reticulate  Reticulate
  -splines     Splines also
</code></pre>
<p>One dash? Sure, it supports <code>--</code> also, but it doesn&rsquo;t support having both a short option
and a long option that we&rsquo;re used to. In the first (good) example these are equivalent:</p>
<pre><code>$ foo --broker-url localhost
$ foo -u localhost
</code></pre>
<p>Also, <code>flag</code> doesn&rsquo;t support combining boolean flags. E.g. what we&rsquo;re used to with
extracting TAR archives:</p>
<pre><code>$ tar -xzf example.tar.gz

# same as
$ tar -x -z -f example.tar.gz

# same as
$ tar --extract --gzip --file example.tar.gz
</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>No conclusion - I just vomited what I felt could have been simpler. Take it however you will.</p>
<p>Thanks for reading this far. 💖</p>

    </div>
	<div class="post-footer">
		<hr />

		<img src="/signature.png" alt="signature" style="height: 55px;" />

		<p>Thanks for reading! <span style="font-style: normal;">😍</span></p>
		<p>
			If you like my writing, consider following me on
			<a href="https://twitter.com/joonas_fi">Twitter</a>.
		</p>

		<p>
			Stay updated on my blog posts &amp; projects - sign up for
			<a href="https://buttondown.email/joonas">my newsletter</a>. 🚀
			<br />
			<small>
				No spam, unsubscribe any time.
				<a href="/feed.xml">RSS</a> also available.
			</small>
		</p>
	</div>
  </article>

  <hr />

  
<div id="disqus_thread"></div>
<script type="text/javascript">

var disqus_identifier = '\/blog\/2020\/02\/24\/go-is-not-a-simple-language';

(function() {
   if (window.location.hostname.indexOf('.dev.fn61.net') != -1) {
        document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
        return;
    }

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'joonas-fi';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


  
  

  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/blog/">Home</a></li>
         
          <li><a href="/blog/today-i-learned/">Today I Learned</a></li>
         
          <li><a href="/blog/about/">About</a></li>
         
          <li><a href="/blog/contact/">Contact</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#package-import-path-different-than-package-name">Package import path different than package name</a></li>
    <li><a href="#func-fooa-b-c-string"><code>func foo(a, b, c string)</code></a></li>
    <li><a href="#goto-label-and-break-label-support"><code>goto &lt;label&gt;</code> (and <code>break &lt;label&gt;</code>) support</a></li>
    <li><a href="#new-keyword"><code>new</code> keyword</a></li>
    <li><a href="#naked-return">Naked return</a></li>
    <li><a href="#octal-number-support">Octal number support</a></li>
    <li><a href="#recent-number-literal-addition">Recent number literal addition</a></li>
    <li><a href="#language-level-support-for-side-effect-imports">Language-level support for side-effect imports</a></li>
    <li><a href="#import--something"><code>import . &quot;something&quot;</code></a></li>
    <li><a href="#easy-to-make-mistakes-with-range-pointers">Easy to make mistakes with range pointers</a></li>
    <li><a href="#conditional-compilation-syntax">Conditional compilation syntax</a></li>
    <li><a href="#defer-behaviour"><code>defer</code> behaviour</a></li>
    <li><a href="#typed-vs-untyped-nil">Typed vs untyped nil</a></li>
    <li><a href="#semi-unstructured-struct-member-annotations">Semi-unstructured struct member annotations</a></li>
    <li><a href="#var-keyword"><code>var</code> keyword</a></li>
    <li><a href="#other-idiosyncrasies-in-stdlib">Other idiosyncrasies in stdlib</a>
      <ul>
        <li><a href="#leave-hard-security-details-to-callers">Leave hard security details to callers</a></li>
        <li><a href="#stdlib-encourages-for-global-state--side-effects">Stdlib encourages for global state / side effects</a></li>
        <li><a href="#nethttp-package-defaults">net/http package defaults</a></li>
        <li><a href="#non-posix-compliant-flag-package">Non-POSIX compliant flag package</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&text=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&title=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&is_video=false&description=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Go%20is%20not%20a%20simple%20language&body=Check out this article: https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&title=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&title=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&title=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&title=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-digg fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&name=Go%20is%20not%20a%20simple%20language&description=I%20still%20love%20Go%20and%20it%26rsquo%3bs%20the%20best%20language%20I%26rsquo%3bve%20used%20-%20but%20like%20in%20mature%20relationships%2c%20I%26rsquo%3bve%20aware%20of%20both%20the%20good%20and%20bad%20parts%20of%20the%20relationship.%0aGo%20is%20still%2c%20compared%20to%20many%20popular%20languages%2c%20simpler%20language%20-%20but%20many%20times%20when%20people%20claim%20Go%20is%20a%20simple%20language%20what%20is%20being%20implied%20is%20that%20Go%20is%20minimalistic%20%26amp%3b%20it%20scoffs%20at%20unnecessary%20features.%0aThis%20post%20is%20about%20where%20Go%20fails%20at%20minimalism.">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2ftunacici.com%2fblog%2f2020%2f02%2f24%2fgo-is-not-a-simple-language%2f&t=Go%20is%20not%20a%20simple%20language">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2023  joonas.fi 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/blog/">Home</a></li>
         
        <li><a href="/blog/today-i-learned/">Today I Learned</a></li>
         
        <li><a href="/blog/about/">About</a></li>
         
        <li><a href="/blog/contact/">Contact</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>



</html>
